[thread per request model]
- pros
  - handle concurrent request
  - process until resource is allowed
  - thread act normally regardless of another thread
- cons
  - thread creation cost is expensive
    - latency 
  - thread context switch
  - unlimit thread creation 

[WAS use thread pool]
- generate thread from thread pool
- features
  - create and manage thread in thread pool
  - manage thread max size. tomcat default is 200 
- usage
  - if thread needed, get thread from thread pool
  - after finish, return thread to thread pool
  - if all thread are working,
    - queue request until specific count
    - or reject request 
- pros
  - thread creation, destroy cost is saved
  - efficient resource usage

[Thread pool usage tips]
- WAS tuning point is max thread count
- too low
  - response latency is high
  - resource usage is too low
- too high
  - if too many requests come, resource(cpu,memory) limit exceeded
- system failure
  - if cloud, increase server. tune after
  - if on premise, tune hard

optimize thread pool size
- depend application logic complex, cpu, memory, io usage
- performance test
  - test similar to real application 
  - tools: apache ab, jmeter, nGrinder(recommended)

[WAS support multi thread]
core
- WAS support multi thread
- developer don't need to care about thread
- developer write code as single thread program
- cause singleton instance(servlet, spring bean)
  - share member field